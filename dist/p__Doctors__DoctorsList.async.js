(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{chh7:function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),o=(a("14J3"),a("BMrR")),r=(a("jCWc"),a("kPKH")),s=(a("g9YV"),a("wCAj")),l=(a("+L6B"),a("2/Rp")),c=(a("y8nQ"),a("Vl3Y")),u=(a("OaEy"),a("2fM7")),i=a("p0pE"),d=a.n(i),m=a("2Taf"),p=a.n(m),g=a("vZ4D"),h=a.n(g),f=a("l4Ni"),E=a.n(f),v=a("ujKo"),y=a.n(v),b=a("MhPg"),w=a.n(b),k=a("q1tI"),A=a.n(k),I=a("2MRG"),N=a("OYJU"),V=a("wY1l"),P=a.n(V),T=a("Sp1i"),S=a.n(T),U=a("ydnR"),x=function(e){function t(e){var a;return p()(this,t),a=E()(this,y()(t).call(this,e)),a.statusChange=function(e,t){var n=a.state.doctors,o=n.map(function(e){return d()({},e)});o.map(function(a){if(a.Username==t){var n=!1;a.Attributes.map(function(t){"custom:doctor_status"==t.Name&&(t.Value=e,n=!0)}),n||(a.Attributes.push({Name:"custom:doctor_status",Value:e}),console.log("each.Attributes",a.Attributes))}}),a.setState({doctors:o});var r={accessKeyId:"AKIATUPTMLPP37TGUMEZ",secretAccessKey:"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",region:"ap-south-1",sessionToken:null,userPoolId:"ap-south-1_p7Jz6LG3T",username:t};S.a.config.correctClockSkew=!0,S.a.config.update(r);var s=new S.a.CognitoIdentityServiceProvider({apiVersion:"2016-04-18"});s.adminUpdateUserAttributes({UserPoolId:"ap-south-1_p7Jz6LG3T",Username:t,UserAttributes:[{Name:"custom:doctor_status",Value:e}]},function(e){console.log(e,"res")})},a.editDoctor=function(){a.setState({})},a.state={doctors:[],loading:!0,doctorView:!0},a}return w()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this;null==localStorage.getItem(U["a"])&&this.props.history.push({pathname:"/user/login"}),Object(I["a"])("get","/api/doctors").then(function(t){console.log(t.data.data,"asasd"),e.setState({doctors:t.data.data,loading:!1})})}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name",render:function(e){return A.a.createElement("a",{href:"javascript:;"},e)}},{title:"Phone Number",dataIndex:"age",key:"age"},{title:"Email",dataIndex:"address",key:"address"},{title:"Status",key:"tags",dataIndex:"tags",render:function(t,a){return A.a.createElement("span",null,[t].map(function(t){t.length;return"loser"===t&&"#f50",A.a.createElement(c["a"].Item,null,A.a.createElement(u["a"],{placeholder:"Please select",style:{width:100,marginTop:20},onChange:function(t){return e.statusChange(t,a.key)},value:t},A.a.createElement(Option,{value:"1"},"Accept"),A.a.createElement(Option,{value:"0"},"Reject")))}))}},{title:"Action",key:"action",render:function(e,t){return A.a.createElement("span",null,A.a.createElement(P.a,{to:{pathname:"/doctor-view",state:{id:e.key}}},A.a.createElement(l["a"],{icon:"edit",style:{float:"left"}})),A.a.createElement(l["a"],{icon:"delete",style:{marginLeft:8}}))}}],a=[];return this.state.doctors.map(function(e){if(e.Attributes.length){console.log(e.Attributes);var t=e.Username,n="",o="",r="",s="";e.Attributes.map(function(e){"custom:full_name"===e.Name&&(n=e.Value),"phone_number"===e.Name&&(o=e.Value),"email"===e.Name&&(r=e.Value),"custom:doctor_status"===e.Name&&(s=e.Value)}),a.push({key:t,name:n,age:o,address:r,tags:s})}}),A.a.createElement("div",null,this.state.doctorView?A.a.createElement(n["a"],{bordered:!1},A.a.createElement("div",{className:"gutter-example"},A.a.createElement(o["a"],{gutter:24},A.a.createElement(r["a"],{className:"gutter-row",xs:24,sm:24,md:24,lg:24,xl:24},A.a.createElement(s["a"],{columns:t,dataSource:a,loading:this.state.loading}))))):A.a.createElement(N["default"],null))}}]),t}(k["PureComponent"]);t["default"]=x}}]);